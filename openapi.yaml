openapi: 3.0.3
info:
  title: MEE Self-Hosted Sponsorship API
  description: |
    # MEEã‚¹ã‚¿ãƒƒã‚¯å‘ã‘ã‚»ãƒ«ãƒ•ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ãƒãƒ«ãƒãƒã‚§ãƒ¼ãƒ³ã‚¬ã‚¹ã‚¹ãƒãƒ³ã‚µãƒ¼ã‚·ãƒƒãƒ—ã‚µãƒ¼ãƒ“ã‚¹
    
    ã“ã®APIã¯ã€Biconomy AbstractJSã‚’ä½¿ç”¨ã—ã¦ã€è¤‡æ•°ã®ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã§
    ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚¬ã‚¹ä»£ã‚’ä»£ç†æ”¯æ‰•ã„ï¼ˆã‚¹ãƒãƒ³ã‚µãƒ¼ï¼‰ã™ã‚‹ãŸã‚ã®REST APIã‚’æä¾›ã—ã¾ã™ã€‚
    
    ## ä¸»ãªæ©Ÿèƒ½
    - ğŸ”— ãƒãƒ«ãƒãƒã‚§ãƒ¼ãƒ³å¯¾å¿œï¼ˆBase Sepoliaã€Sepoliaãªã©ï¼‰
    - ğŸ’° USDCç­‰ã®ã‚¹ãƒ†ãƒ¼ãƒ–ãƒ«ã‚³ã‚¤ãƒ³ã§ã‚¬ã‚¹ä»£ã‚’æ”¯æ‰•ã„
    - ğŸ” ã‚»ã‚­ãƒ¥ã‚¢ãªã‚¬ã‚¹ã‚¿ãƒ³ã‚¯ç®¡ç†
    - ğŸ“Š ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã®æ®‹é«˜ç¢ºèª
    
    ## èªè¨¼ã«ã¤ã„ã¦
    æœ¬ç•ªç’°å¢ƒã§ã¯ã€ã‚«ã‚¹ã‚¿ãƒ ãƒ˜ãƒƒãƒ€ãƒ¼ï¼ˆ`X-API-Key`ãªã©ï¼‰ã‚’ä½¿ç”¨ã—ãŸèªè¨¼ã‚’å®Ÿè£…ã™ã‚‹ã“ã¨ã‚’æ¨å¥¨ã—ã¾ã™ã€‚
    
    ## ãƒ¬ãƒ¼ãƒˆåˆ¶é™
    ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®MEE APIã‚­ãƒ¼ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã€ãƒ¬ãƒ¼ãƒˆåˆ¶é™ãŒé©ç”¨ã•ã‚Œã¾ã™ã€‚
    æœ¬ç•ªç’°å¢ƒã§ã¯ç‹¬è‡ªã®APIã‚­ãƒ¼ã®è¨­å®šã‚’æ¨å¥¨ã—ã¾ã™ã€‚
    
    ## ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
    ã™ã¹ã¦ã®ã‚¨ãƒ©ãƒ¼ã¯ä»¥ä¸‹ã®å½¢å¼ã§è¿”ã•ã‚Œã¾ã™:
    ```json
    {
      "errors": ["ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸"]
    }
    ```
    
  version: 1.0.0
  contact:
    name: Biconomy
    url: https://www.biconomy.io
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT

servers:
  - url: http://localhost:3004/v1
    description: ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒ
  - url: https://your-domain.com/v1
    description: æœ¬ç•ªç’°å¢ƒ

tags:
  - name: Sponsorship
    description: ã‚¬ã‚¹ã‚¹ãƒãƒ³ã‚µãƒ¼ã‚·ãƒƒãƒ—é–¢é€£ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
  - name: Information
    description: ã‚¬ã‚¹ã‚¿ãƒ³ã‚¯æƒ…å ±å–å¾—

paths:
  /sponsorship/info:
    get:
      tags:
        - Information
      summary: å…¨ã‚¬ã‚¹ã‚¿ãƒ³ã‚¯æƒ…å ±ã®å–å¾—
      description: |
        å…¨ãƒã‚§ãƒ¼ãƒ³ã®å…¨ã‚¬ã‚¹ã‚¿ãƒ³ã‚¯æƒ…å ±ã‚’å–å¾—ã—ã¾ã™ã€‚
        
        ã“ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¯ä»¥ä¸‹ã®æƒ…å ±ã‚’è¿”ã—ã¾ã™:
        - å„ãƒã‚§ãƒ¼ãƒ³ã®ã‚¬ã‚¹ã‚¿ãƒ³ã‚¯ä¸€è¦§
        - å„ã‚¬ã‚¹ã‚¿ãƒ³ã‚¯ã®ãƒˆãƒ¼ã‚¯ãƒ³æ®‹é«˜
        - ãƒˆãƒ¼ã‚¯ãƒ³æƒ…å ±ï¼ˆã‚¢ãƒ‰ãƒ¬ã‚¹ã€å°æ•°ç‚¹æ¡æ•°ï¼‰
        
        ä½¿ç”¨ä¾‹:
        - ã‚¬ã‚¹ã‚¿ãƒ³ã‚¯ã®æ®‹é«˜ç›£è¦–
        - åˆ©ç”¨å¯èƒ½ãªãƒã‚§ãƒ¼ãƒ³ã®ç¢ºèª
        - ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã§ã®æ®‹é«˜è¡¨ç¤º
      operationId: getGasTankInfo
      responses:
        '200':
          description: ã‚¬ã‚¹ã‚¿ãƒ³ã‚¯æƒ…å ±ã®å–å¾—ã«æˆåŠŸ
          content:
            application/json:
              schema:
                type: object
                additionalProperties:
                  type: array
                  items:
                    $ref: '#/components/schemas/GasTankInfo'
              example:
                "84532":
                  - chainId: 84532
                    token:
                      address: "0x036CbD53842c5426634e7929541eC2318f3dCF7e"
                      balance: "5.0"
                      decimals: 6
                    gasTankAddress: "0x1234567890123456789012345678901234567890"
                "11155111":
                  - chainId: 11155111
                    token:
                      address: "0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238"
                      balance: "5.0"
                      decimals: 6
                    gasTankAddress: "0x0987654321098765432109876543210987654321"
        '400':
          description: ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /sponsorship/nonce/{chainId}/{gasTankAddress}:
    get:
      tags:
        - Sponsorship
      summary: ã‚¬ã‚¹ã‚¿ãƒ³ã‚¯ã®Nonceå–å¾—
      description: |
        ç‰¹å®šã®ã‚¬ã‚¹ã‚¿ãƒ³ã‚¯ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ç¾åœ¨ã®nonceï¼ˆãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ç•ªå·ï¼‰ã‚’å–å¾—ã—ã¾ã™ã€‚
        
        Nonceã¯ä»¥ä¸‹ã®ç”¨é€”ã§ä½¿ç”¨ã•ã‚Œã¾ã™:
        - ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã®é †åºç®¡ç†
        - ãƒªãƒ—ãƒ¬ã‚¤æ”»æ’ƒã®é˜²æ­¢
        - ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã®ä¸€æ„æ€§ç¢ºä¿
        
        å„ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã«ã¯ä¸€æ„ã®nonceãŒå¿…è¦ã§ã™ã€‚
      operationId: getGasTankNonce
      parameters:
        - name: chainId
          in: path
          required: true
          description: |
            ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã®ãƒã‚§ãƒ¼ãƒ³ID
            
            ä¸»è¦ãªãƒã‚§ãƒ¼ãƒ³ID:
            - `84532`: Base Sepolia (ãƒ†ã‚¹ãƒˆãƒãƒƒãƒˆ)
            - `11155111`: Sepolia (ãƒ†ã‚¹ãƒˆãƒãƒƒãƒˆ)
            - `8453`: Base (ãƒ¡ã‚¤ãƒ³ãƒãƒƒãƒˆ)
            - `1`: Ethereum Mainnet
          schema:
            type: integer
            format: int64
          example: 84532
        - name: gasTankAddress
          in: path
          required: true
          description: ã‚¬ã‚¹ã‚¿ãƒ³ã‚¯ã®ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã‚¢ãƒ‰ãƒ¬ã‚¹ï¼ˆ0xã‹ã‚‰å§‹ã¾ã‚‹42æ–‡å­—ã®16é€²æ•°ï¼‰
          schema:
            type: string
            pattern: '^0x[a-fA-F0-9]{40}$'
          example: "0x1234567890123456789012345678901234567890"
      responses:
        '200':
          description: Nonceã®å–å¾—ã«æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NonceResponse'
              example:
                nonceKey: "123"
                nonce: "5"
        '400':
          description: ç„¡åŠ¹ãªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¾ãŸã¯ã‚¬ã‚¹ã‚¿ãƒ³ã‚¯ãŒè¦‹ã¤ã‹ã‚‰ãªã„
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
              examples:
                invalidChainId:
                  summary: ç„¡åŠ¹ãªãƒã‚§ãƒ¼ãƒ³ID
                  value:
                    errors: ["Invalid chain id"]
                invalidAddress:
                  summary: ç„¡åŠ¹ãªã‚¢ãƒ‰ãƒ¬ã‚¹
                  value:
                    errors: ["Invalid gas tank address"]
                notFound:
                  summary: ã‚¬ã‚¹ã‚¿ãƒ³ã‚¯ãŒè¦‹ã¤ã‹ã‚‰ãªã„
                  value:
                    errors: ["Gas tank not found"]

  /sponsorship/receipt/{chainId}/{hash}:
    get:
      tags:
        - Sponsorship
      summary: ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ãƒ¬ã‚·ãƒ¼ãƒˆã®å–å¾—
      description: |
        ã‚¹ãƒãƒ³ã‚µãƒ¼ã‚·ãƒƒãƒ—ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã®å®Ÿè¡Œçµæœï¼ˆãƒ¬ã‚·ãƒ¼ãƒˆï¼‰ã‚’å–å¾—ã—ã¾ã™ã€‚
        
        ãƒ¬ã‚·ãƒ¼ãƒˆã«ã¯ä»¥ä¸‹ã®æƒ…å ±ãŒå«ã¾ã‚Œã¾ã™:
        - ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼ˆæˆåŠŸ/å¤±æ•—ï¼‰
        - å®Ÿéš›ã«ä½¿ç”¨ã•ã‚ŒãŸã‚¬ã‚¹é‡
        - ã‚¤ãƒ™ãƒ³ãƒˆãƒ­ã‚°
        - ãƒ–ãƒ­ãƒƒã‚¯æƒ…å ±
        - ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã‚¢ãƒ‰ãƒ¬ã‚¹ï¼ˆãƒ‡ãƒ—ãƒ­ã‚¤ã®å ´åˆï¼‰
        
        ä½¿ç”¨ä¾‹:
        - ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã®å®Ÿè¡Œç¢ºèª
        - ã‚¬ã‚¹ä½¿ç”¨é‡ã®åˆ†æ
        - ã‚¤ãƒ™ãƒ³ãƒˆãƒ­ã‚°ã®è§£æ
      operationId: getTransactionReceipt
      parameters:
        - name: chainId
          in: path
          required: true
          description: ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã®ãƒã‚§ãƒ¼ãƒ³ID
          schema:
            type: integer
            format: int64
          example: 84532
        - name: hash
          in: path
          required: true
          description: ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ãƒãƒƒã‚·ãƒ¥ï¼ˆ0xã‹ã‚‰å§‹ã¾ã‚‹66æ–‡å­—ã®16é€²æ•°ï¼‰
          schema:
            type: string
            pattern: '^0x[a-fA-F0-9]{64}$'
          example: "0xabcdef1234567890abcdef1234567890abcdef1234567890abcdef1234567890"
      responses:
        '200':
          description: ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ãƒ¬ã‚·ãƒ¼ãƒˆã®å–å¾—ã«æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TransactionReceipt'
        '400':
          description: ç„¡åŠ¹ãªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¾ãŸã¯ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ãŒè¦‹ã¤ã‹ã‚‰ãªã„
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
              examples:
                invalidChainId:
                  summary: ç„¡åŠ¹ãªãƒã‚§ãƒ¼ãƒ³ID
                  value:
                    errors: ["Invalid chain id"]
                invalidHash:
                  summary: ç„¡åŠ¹ãªãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ãƒãƒƒã‚·ãƒ¥
                  value:
                    errors: ["Invalid transaction hash"]
                noGasTank:
                  summary: ã‚¬ã‚¹ã‚¿ãƒ³ã‚¯ãŒè¦‹ã¤ã‹ã‚‰ãªã„
                  value:
                    errors: ["No gas tanks found"]

  /sponsorship/sign/{chainId}/{gasTankAddress}:
    post:
      tags:
        - Sponsorship
      summary: ã‚¹ãƒãƒ³ã‚µãƒ¼ã‚·ãƒƒãƒ—ã‚¯ã‚©ãƒ¼ãƒˆã¸ã®ç½²å
      description: |
        ã‚¬ã‚¹ã‚¿ãƒ³ã‚¯ã§ã‚¹ãƒãƒ³ã‚µãƒ¼ã‚·ãƒƒãƒ—ã‚¯ã‚©ãƒ¼ãƒˆï¼ˆè¦‹ç©ã‚‚ã‚Šï¼‰ã«ç½²åã—ã¾ã™ã€‚
        
        **ã“ã‚ŒãŒã‚¬ã‚¹ã‚¹ãƒãƒ³ã‚µãƒ¼ã‚·ãƒƒãƒ—ã®ä¸­æ ¸ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã§ã™ã€‚**
        
        å‡¦ç†ãƒ•ãƒ­ãƒ¼:
        1. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŒãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³è¦‹ç©ã‚‚ã‚Šã‚’é€ä¿¡
        2. ã‚µãƒ¼ãƒãƒ¼ãŒãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆãƒˆãƒ¼ã‚¯ãƒ³ã‚¿ã‚¤ãƒ—ã€èªè¨¼ãªã©ï¼‰
        3. ã‚¬ã‚¹ã‚¿ãƒ³ã‚¯ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãŒç½²åã‚’å®Ÿè¡Œ
        4. ç½²åæ¸ˆã¿è¦‹ç©ã‚‚ã‚Šã‚’è¿”å´
        5. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŒç½²åæ¸ˆã¿è¦‹ç©ã‚‚ã‚Šã§ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œ
        
        âš ï¸ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ³¨æ„äº‹é …:
        - æœ¬ç•ªç’°å¢ƒã§ã¯èªè¨¼ãƒ»èªå¯ãƒ­ã‚¸ãƒƒã‚¯ã®å®Ÿè£…ãŒå¿…é ˆ
        - æœˆé–“æ”¯å‡ºä¸Šé™ã®ãƒã‚§ãƒƒã‚¯
        - ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³æ¯ã®æœ€å¤§æ”¯å‡ºãƒã‚§ãƒƒã‚¯
        - ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã®é©ç”¨
        - ãƒ›ãƒ¯ã‚¤ãƒˆãƒªã‚¹ãƒˆ/ãƒ–ãƒ©ãƒƒã‚¯ãƒªã‚¹ãƒˆã®ç¢ºèª
        
        ä½¿ç”¨ä¾‹:
        - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚¬ã‚¹ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³
        - ãƒãƒƒãƒãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã®ã‚¹ãƒãƒ³ã‚µãƒ¼ã‚·ãƒƒãƒ—
        - ã‚¹ãƒãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã‚¦ã‚©ãƒ¬ãƒƒãƒˆã®æ“ä½œ
      operationId: signSponsorship
      parameters:
        - name: chainId
          in: path
          required: true
          description: ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã®ãƒã‚§ãƒ¼ãƒ³ID
          schema:
            type: integer
            format: int64
          example: 84532
        - name: gasTankAddress
          in: path
          required: true
          description: ä½¿ç”¨ã™ã‚‹ã‚¬ã‚¹ã‚¿ãƒ³ã‚¯ã®ã‚¢ãƒ‰ãƒ¬ã‚¹
          schema:
            type: string
            pattern: '^0x[a-fA-F0-9]{40}$'
          example: "0x1234567890123456789012345678901234567890"
        - name: X-API-Key
          in: header
          required: false
          description: |
            APIã‚­ãƒ¼ï¼ˆæœ¬ç•ªç’°å¢ƒã§ã¯å¿…é ˆï¼‰
            
            ã‚«ã‚¹ã‚¿ãƒ ãƒ˜ãƒƒãƒ€ãƒ¼ã‚’ä½¿ç”¨ã—ãŸèªè¨¼ã®ä¾‹ã€‚
            å®Ÿéš›ã®å®Ÿè£…ã§ã¯ã€ã“ã®ãƒ˜ãƒƒãƒ€ãƒ¼ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦
            èªè¨¼ãƒ»èªå¯ã‚’è¡Œã†ãƒ­ã‚¸ãƒƒã‚¯ã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚
          schema:
            type: string
          example: "your-api-key-here"
        - name: X-Project-Id
          in: header
          required: false
          description: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆIDï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
          schema:
            type: string
          example: "your-project-id"
      requestBody:
        required: true
        description: |
          ã‚¹ãƒãƒ³ã‚µãƒ¼ã‚·ãƒƒãƒ—ã‚¯ã‚©ãƒ¼ãƒˆï¼ˆãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³è¦‹ç©ã‚‚ã‚Šï¼‰
          
          ã“ã®ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ã«ã¯ã€å®Ÿè¡Œã™ã‚‹ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã®è©³ç´°æƒ…å ±ãŒå«ã¾ã‚Œã¾ã™ã€‚
          é€šå¸¸ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®SDKãŒè‡ªå‹•çš„ã«ç”Ÿæˆã—ã¾ã™ã€‚
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GetQuotePayload'
            example:
              sender: "0x1234567890123456789012345678901234567890"
              to: "0x0987654321098765432109876543210987654321"
              value: "0"
              data: "0x"
              operation: 0
              targetTxGas: "100000"
              baseGas: "50000"
              gasPrice: "1000000000"
              tokenGasPriceFactor: "1000000"
              gasToken: "0x0000000000000000000000000000000000000000"
              refundReceiver: "0x0000000000000000000000000000000000000000"
              paymentInfo:
                token: "0x036CbD53842c5426634e7929541eC2318f3dCF7e"
                amount: "100000"
                sponsor: "0x1234567890123456789012345678901234567890"
              nonce: "1"
              validUntil: 0
              validAfter: 0
      responses:
        '200':
          description: ç½²åã«æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetQuotePayload'
              example:
                sender: "0x1234567890123456789012345678901234567890"
                to: "0x0987654321098765432109876543210987654321"
                value: "0"
                data: "0x"
                operation: 0
                targetTxGas: "100000"
                baseGas: "50000"
                gasPrice: "1000000000"
                tokenGasPriceFactor: "1000000"
                gasToken: "0x0000000000000000000000000000000000000000"
                refundReceiver: "0x0000000000000000000000000000000000000000"
                paymentInfo:
                  token: "0x036CbD53842c5426634e7929541eC2318f3dCF7e"
                  amount: "100000"
                  sponsor: "0x1234567890123456789012345678901234567890"
                nonce: "1"
                validUntil: 0
                validAfter: 0
                signature: "0x..."
        '400':
          description: ç½²åã‚¨ãƒ©ãƒ¼
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
              examples:
                invalidChainId:
                  summary: ç„¡åŠ¹ãªãƒã‚§ãƒ¼ãƒ³ID
                  value:
                    errors: ["Invalid chain id"]
                invalidAddress:
                  summary: ç„¡åŠ¹ãªã‚¬ã‚¹ã‚¿ãƒ³ã‚¯ã‚¢ãƒ‰ãƒ¬ã‚¹
                  value:
                    errors: ["Invalid gas tank address"]
                notFound:
                  summary: ã‚¬ã‚¹ã‚¿ãƒ³ã‚¯ãŒè¦‹ã¤ã‹ã‚‰ãªã„
                  value:
                    errors: ["Gas tank not found"]
                unsupportedToken:
                  summary: ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ãªã„ãƒˆãƒ¼ã‚¯ãƒ³
                  value:
                    errors: ["Sponsorship token not supported."]

components:
  schemas:
    GasTankInfo:
      type: object
      description: ã‚¬ã‚¹ã‚¿ãƒ³ã‚¯æƒ…å ±
      required:
        - chainId
        - token
        - gasTankAddress
      properties:
        chainId:
          type: integer
          format: int64
          description: ãƒã‚§ãƒ¼ãƒ³ID
          example: 84532
        token:
          type: object
          description: ãƒˆãƒ¼ã‚¯ãƒ³æƒ…å ±
          required:
            - address
            - balance
            - decimals
          properties:
            address:
              type: string
              pattern: '^0x[a-fA-F0-9]{40}$'
              description: ãƒˆãƒ¼ã‚¯ãƒ³ã®ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã‚¢ãƒ‰ãƒ¬ã‚¹
              example: "0x036CbD53842c5426634e7929541eC2318f3dCF7e"
            balance:
              type: string
              description: ãƒˆãƒ¼ã‚¯ãƒ³æ®‹é«˜ï¼ˆãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæ¸ˆã¿æ–‡å­—åˆ—ï¼‰
              example: "5.0"
            decimals:
              type: integer
              description: ãƒˆãƒ¼ã‚¯ãƒ³ã®å°æ•°ç‚¹æ¡æ•°
              example: 6
        gasTankAddress:
          type: string
          pattern: '^0x[a-fA-F0-9]{40}$'
          description: ã‚¬ã‚¹ã‚¿ãƒ³ã‚¯ã®ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã‚¢ãƒ‰ãƒ¬ã‚¹
          example: "0x1234567890123456789012345678901234567890"

    NonceResponse:
      type: object
      description: Nonceæƒ…å ±
      required:
        - nonceKey
        - nonce
      properties:
        nonceKey:
          type: string
          description: Nonceã‚­ãƒ¼ï¼ˆæ–‡å­—åˆ—å½¢å¼ï¼‰
          example: "123"
        nonce:
          type: string
          description: ç¾åœ¨ã®Nonceå€¤ï¼ˆæ–‡å­—åˆ—å½¢å¼ï¼‰
          example: "5"

    TransactionReceipt:
      type: object
      description: |
        Ethereumãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ãƒ¬ã‚·ãƒ¼ãƒˆ
        
        æ¨™æº–çš„ãªEthereumãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ãƒ¬ã‚·ãƒ¼ãƒˆã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã€‚
        è©³ç´°ã¯ [Ethereum JSON-RPCä»•æ§˜](https://ethereum.org/en/developers/docs/apis/json-rpc/#eth_gettransactionreceipt) ã‚’å‚ç…§ã€‚
      properties:
        transactionHash:
          type: string
          description: ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ãƒãƒƒã‚·ãƒ¥
          example: "0xabcdef..."
        transactionIndex:
          type: string
          description: ãƒ–ãƒ­ãƒƒã‚¯å†…ã®ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
        blockHash:
          type: string
          description: ãƒ–ãƒ­ãƒƒã‚¯ãƒãƒƒã‚·ãƒ¥
        blockNumber:
          type: string
          description: ãƒ–ãƒ­ãƒƒã‚¯ç•ªå·
        from:
          type: string
          description: é€ä¿¡è€…ã‚¢ãƒ‰ãƒ¬ã‚¹
        to:
          type: string
          description: å—ä¿¡è€…ã‚¢ãƒ‰ãƒ¬ã‚¹
          nullable: true
        cumulativeGasUsed:
          type: string
          description: ãƒ–ãƒ­ãƒƒã‚¯å†…ã®ç´¯ç©ã‚¬ã‚¹ä½¿ç”¨é‡
        gasUsed:
          type: string
          description: ã“ã®ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã§ä½¿ç”¨ã•ã‚ŒãŸã‚¬ã‚¹é‡
        contractAddress:
          type: string
          description: ãƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚ŒãŸã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã‚¢ãƒ‰ãƒ¬ã‚¹ï¼ˆè©²å½“ã™ã‚‹å ´åˆï¼‰
          nullable: true
        logs:
          type: array
          description: ã‚¤ãƒ™ãƒ³ãƒˆãƒ­ã‚°ã®é…åˆ—
          items:
            type: object
        status:
          type: string
          description: |
            ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹
            - "0x1": æˆåŠŸ
            - "0x0": å¤±æ•—

    GetQuotePayload:
      type: object
      description: |
        ã‚¹ãƒãƒ³ã‚µãƒ¼ã‚·ãƒƒãƒ—ã‚¯ã‚©ãƒ¼ãƒˆãƒšã‚¤ãƒ­ãƒ¼ãƒ‰
        
        Biconomy AbstractJSãŒä½¿ç”¨ã™ã‚‹ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³è¦‹ç©ã‚‚ã‚Šã®å½¢å¼ã€‚
      required:
        - sender
        - to
        - value
        - data
        - paymentInfo
      properties:
        sender:
          type: string
          pattern: '^0x[a-fA-F0-9]{40}$'
          description: ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³é€ä¿¡è€…ã®ã‚¢ãƒ‰ãƒ¬ã‚¹
          example: "0x1234567890123456789012345678901234567890"
        to:
          type: string
          pattern: '^0x[a-fA-F0-9]{40}$'
          description: ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³å—ä¿¡è€…ã®ã‚¢ãƒ‰ãƒ¬ã‚¹
          example: "0x0987654321098765432109876543210987654321"
        value:
          type: string
          description: é€ä¿¡ã™ã‚‹ETHé‡ï¼ˆWeiå˜ä½ã®æ–‡å­—åˆ—ï¼‰
          example: "0"
        data:
          type: string
          description: ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ãƒ‡ãƒ¼ã‚¿ï¼ˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆé–¢æ•°å‘¼ã³å‡ºã—ç­‰ï¼‰
          example: "0x"
        operation:
          type: integer
          description: |
            ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒ—
            - 0: Call
            - 1: DelegateCall
          example: 0
        targetTxGas:
          type: string
          description: ã‚¿ãƒ¼ã‚²ãƒƒãƒˆãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã®ã‚¬ã‚¹ãƒªãƒŸãƒƒãƒˆ
          example: "100000"
        baseGas:
          type: string
          description: ãƒ™ãƒ¼ã‚¹ã‚¬ã‚¹é‡
          example: "50000"
        gasPrice:
          type: string
          description: ã‚¬ã‚¹ä¾¡æ ¼ï¼ˆWeiå˜ä½ï¼‰
          example: "1000000000"
        tokenGasPriceFactor:
          type: string
          description: ãƒˆãƒ¼ã‚¯ãƒ³ã‚¬ã‚¹ä¾¡æ ¼ã®ä¿‚æ•°
          example: "1000000"
        gasToken:
          type: string
          description: ã‚¬ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ã‚¢ãƒ‰ãƒ¬ã‚¹
          example: "0x0000000000000000000000000000000000000000"
        refundReceiver:
          type: string
          description: ãƒªãƒ•ã‚¡ãƒ³ãƒ‰å—å–äººã‚¢ãƒ‰ãƒ¬ã‚¹
          example: "0x0000000000000000000000000000000000000000"
        paymentInfo:
          type: object
          description: æ”¯æ‰•ã„æƒ…å ±
          required:
            - token
            - amount
          properties:
            token:
              type: string
              pattern: '^0x[a-fA-F0-9]{40}$'
              description: æ”¯æ‰•ã„ãƒˆãƒ¼ã‚¯ãƒ³ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼ˆUSDCç­‰ï¼‰
              example: "0x036CbD53842c5426634e7929541eC2318f3dCF7e"
            amount:
              type: string
              description: æ”¯æ‰•ã„é‡‘é¡ï¼ˆãƒˆãƒ¼ã‚¯ãƒ³ã®æœ€å°å˜ä½ï¼‰
              example: "100000"
            sponsor:
              type: string
              pattern: '^0x[a-fA-F0-9]{40}$'
              description: ã‚¹ãƒãƒ³ã‚µãƒ¼ã‚¢ãƒ‰ãƒ¬ã‚¹
              example: "0x1234567890123456789012345678901234567890"
        nonce:
          type: string
          description: ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³Nonce
          example: "1"
        validUntil:
          type: integer
          description: æœ‰åŠ¹æœŸé™ï¼ˆUnixã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã€0ã¯ç„¡åˆ¶é™ï¼‰
          example: 0
        validAfter:
          type: integer
          description: æœ‰åŠ¹é–‹å§‹æ™‚åˆ»ï¼ˆUnixã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã€0ã¯å³æ™‚ï¼‰
          example: 0
        signature:
          type: string
          description: |
            ç½²åï¼ˆãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ã¿ï¼‰
            
            ã‚¬ã‚¹ã‚¿ãƒ³ã‚¯ã«ã‚ˆã‚‹ç½²åã€‚ã“ã®ç½²åã«ã‚ˆã‚Šã€
            ã‚¬ã‚¹ã‚¿ãƒ³ã‚¯ãŒãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã®ã‚¬ã‚¹ä»£ã‚’æ”¯æ‰•ã†ã“ã¨ã‚’è¨¼æ˜ã—ã¾ã™ã€‚
          example: "0x1234567890abcdef..."

    Error:
      type: object
      description: ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹
      required:
        - errors
      properties:
        errors:
          type: array
          description: ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®é…åˆ—
          items:
            type: string
          example: ["Invalid chain id"]

  securitySchemes:
    ApiKeyAuth:
      type: apiKey
      in: header
      name: X-API-Key
      description: |
        APIã‚­ãƒ¼èªè¨¼ï¼ˆæœ¬ç•ªç’°å¢ƒæ¨å¥¨ï¼‰
        
        ã‚«ã‚¹ã‚¿ãƒ ãƒ˜ãƒƒãƒ€ãƒ¼ `X-API-Key` ã§APIã‚­ãƒ¼ã‚’é€ä¿¡ã—ã¾ã™ã€‚
        å®Ÿè£…ä¾‹ã§ã¯ã€ã“ã®ã‚­ãƒ¼ã‚’æ¤œè¨¼ã™ã‚‹ãƒ­ã‚¸ãƒƒã‚¯ã‚’è¿½åŠ ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

security:
  - ApiKeyAuth: []
